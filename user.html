<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Calling tailwind-->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <title>Cookies Online Orders</title>
</head>
<body>
    

<!--Header Search and Cart Overview - screen-wide contanier --> 
<header class="bg-white shadow-lg sticky top-0 z-10">
    <!--Subcontainer to control the elements of the header-->
    <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
        <!--This div will contain the 4 main elements of the header:
        business name, menu search bar, cart overview, and login button-->
        <div class= "flex justify-between items-center h-20">
            <!--Company Name Header-->
            <h1 class="text-lg md:text-xl lg:text-2xl font-bold text-blue-400 cursor-default"> 
                Let's Talk Cookies </h1>

            <!--Search Bar-->
            <div class="flex-1 max-w-lg mx-4 sm:mx-8 min-w-64">
                <div class="relative">
                    <input
                        type="text"
                        id="searchBarInput"
                        placeholder="Find your sweet treat..."
                        class="w-full pl-10 rounded-xl border-2 border-gray-300 shadow-inner placeholder-gray-400 text-gray-800"
                    >
                    <!--Search icon in search bar-->
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="absolute left-3 top-1/2 -translate-y-1/2 size-6 text-gray-500 stroke-current"
                    >
                        <path stroke-linecap="round" stroke-linejoin="round" d="m15.75 15.75-2.489-2.489m0 0a3.375 3.375 0 1 0-4.773-4.773 3.375 3.375 0 0 0 4.774 4.774ZM21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"
                        >
                    </svg>
                </div>
            </div>

            <!--Cart and Counter-->
            <div>
                <button class="flex items-center space-x-2 p-3 bg-blue-400 text-white rounded-xl shadow-xl cursor-pointer
                hover:bg-blue-800" onclick="alert('Cart Coming Soon!')"
                >
                    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z" /
                        >
                    </svg>
                <!--Cart Counter w/ Default Zero -->
                    <span id="cartCount" class="text-lg font-extrabold">0</span>
                </button>
            </div>

            <!--Login Button-->
            <div>
                <a href="admin-login.html">
                    <button class="flex items-center text-sm md:text-lg pl-2 font-semibold 
                    text-blue-800 hover:text-blue-400 cursor-pointer"
                    >
                        Login
                    </button>
                </a>
            </div>
        </div>
    </div> 
</header>

<!--Entire Menu Section (grid container for menu cards)-->
<main class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <h2 class="text-xl md:text-3xl lg:text-4xl font-bold font-sans text-center pb-7">
        The Monthly Mouthwatering Menu</h2>
        
    <!--Menu Card Grid Area (Data pulled from JSON file in script section)-->
    <div id="menuContainer" class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
    </div>
</main>


<script>
    //Use DOM Elements to pull JSON data and make menu cards
    document.addEventListener('DOMContentLoaded', () => 
    {fetch('menu.json')
        //Pull and convert the json data to an array of objects.    
        .then(response => {
            if (!response.ok){
                throw new Error ('Network Response Failed!')
            }
            return response.json()
        })
        //Assign the array of objects from json to the variable menuItems + display cards
        .then(menuItems => {
            displayMenu(menuItems)
        })

        //If there is an error, display for the user.
        .catch(error => {
            document.getElementById('menuContainer').innerHTML =`
                <div class="bg-black border-2 rounded-lg border-red-800 shadow-lg py-4 px-6 mx-auto">
                    <p class = "text-base md:text-xl font-semibold text-red-500 text-center">
                    Failed to Load Menu, please try again or call the business number.
                    </p>
                </div>`
            console.error("Error in fetching menu:", error)
        })
    })

    
    function displayMenu(menuItems){
        const menuContainer = document.getElementById('menuContainer')
        menuContainer.innerHTML=''

        menuItems.forEach(menuItem => { 
            const menuItemCard = document.createElement('div')
            menuItemCard.innerHTML= `
            <div class="flex flex-col justify-between p-4 shadow-lg border-2 border-indigo-200 bg-gray-50 
            rounded-lg hover:scale-[1.04] h-full">
                <div class ="w-full h-40 rounded-lg mb-4"> 
                    <img 
                        src="${menuItem.image}"
                        class="w-full h-full object-cover rounded-lg shadow-md"
                    />
                </div>
               
                <h3 class="font-bold font-sans text-sm md:text-lg tracking-wide text-center p-2">
                    ${menuItem.name}
                </h3>
                <p class="font-sans text-xs md:text-sm tracking-wide text-center text-gray-500 p-2">
                    ${menuItem.description}
                </p>
                <p class="font-sans font-bold text-sm md:text-lg tracking-wide text-right p-2">
                   $${menuItem.price}
                </p>
                <button class="border rounded-lg bg-blue-400 text-white font-bold 
                hover:bg-blue-800 hover:cursor-pointer p-2">
                    Add to Cart
                </button>
            </div>`

            menuContainer.appendChild(menuItemCard)
        })
    }

</script>
</body>